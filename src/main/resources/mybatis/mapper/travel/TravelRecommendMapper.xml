<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.demo.microservices.dao.TravelRecommendDao">

   <!-- cluster값과 일치하는 여행지 목록 내림차순  -->
   <select id="getRecommendResults" parameterType="String" resultType="com.demo.microservices.model.TravelSurveyResultVO">

		select ti.cntry_id
			 , ti.city_id
			 , count(1) as cnt
		  from trvl_info ti
		 where ti.clstr_label = #{cluster}
	  group by ti.cntry_id, ti.city_id
	  order by cnt desc
   </select>



</mapper>